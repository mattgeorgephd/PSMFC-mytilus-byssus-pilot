"0",""
"0","# extract data from all .txt files in a folder located at thread_strength/tensometer_output/control/ and add it to a nested list object"
"0","# the data has three column headers: Time, displacement, force. "
"0","# Add a third data column called ""mussel"" that is the first three characters of the file name."
"0",""
"0","# Set the working directory to the folder containing the txt files"
"0","setwd(""thread_strength/tensometer_output/control/"")"
"0",""
"0","# Create an empty list to hold the data"
"0","nested_list <- list()"
"0",""
"0","# Get a vector of the names of all the txt files in the directory"
"0","txt_files <- list.files(pattern = ""\\.txt$"")"
"0",""
"0","# Loop through each txt file, extract the data, and add it to the nested list"
"0","for (file_name in txt_files) {"
"0","    # Read in the data from the txt file"
"0","    data <- read.delim(file_name, "
"0","                       header = FALSE,"
"0","                       dec = ""."")"
"0","    "
"0","    # transpose"
"0","    data_transpose = t(data) "
"0","    "
"0","    # Snip data, Fix headers"
"0","    data_snipped <- as.data.frame(data_transpose[,2:4]) # keep all rows, grab only column 2 through 4"
"0","    colnames(data_snipped) <- c('time', 'displacement', 'force')"
"0","    "
"0","    # Fix column data types"
"0","    data_snipped$time         <- as.numeric(data_snipped$time)"
"0","    data_snipped$displacement <- as.numeric(data_snipped$displacement)"
"0","    "
"0","    # Fix NA"
"0","    data_snipped$time[is.na(data_snipped$time)] <- 0"
"0","    data_snipped$displacement[is.na(data_snipped$displacement)] <- 0"
"0","    # Add a new column called ""mussel"" that contains the first three characters of the file name"
"0","    data_snipped$mussel <- substr(file_name, start = 1, stop = 3)"
"0","    "
"0","    # Add new column that adds thread run"
"0","    data_snipped$thread <- substr(file_name, start = 5, stop = 6)"
"0","  "
"0","    # Add the data to the nested list using the file name as the list name"
"0","    nested_list[[file_name]] <- data_snipped"
"0","}"
"0",""
